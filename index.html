<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SNSã¾ã¨ã‚ï¼†ãŠã¿ãã˜ã‚µã‚¤ãƒˆ</title>
<link href="https://fonts.googleapis.com/css2?family=Hachi+Maru+Pop&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Hachi Maru Pop', sans-serif;
  background: #7894C1;
  margin:0;
  text-align:center;
  color:#333;
}

header{
  padding:20px;
}

.welcome {
  font-size: 2rem;
  background: linear-gradient(45deg, #ff9a9e, #fad0c4);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: float 2s ease-in-out infinite alternate;
  margin:0;
}

.subtitle {
  font-size:1rem;
  color:#fff;
  margin-top:6px;
}

@keyframes float {
  0% { transform: translateY(0); }
  100% { transform: translateY(-6px); }
}

.sns-links a{
  display:block;
  margin:10px auto;
  width:80%;
  max-width:300px;
  padding:12px;
  background:#fff;
  border-radius:30px;
  text-decoration:none;
  color:#333;
  box-shadow:0 4px 6px rgba(0,0,0,0.15);
}

.card{
  margin:15px auto;
  padding:15px;
  width:90%;
  max-width:500px;
  background: rgba(173, 216, 230, 0.5); /* è–„ã„æ°´è‰²ãƒ‘ã‚¹ãƒ†ãƒ« */
  border-radius:18px;
  box-shadow:0 6px 12px rgba(0,0,0,0.15);
}

.main-button{
  font-family:'Hachi Maru Pop',sans-serif;
  padding:10px 26px;
  border:none;
  border-radius:30px;
  background:#e91e63;
  color:#fff;
  font-size:16px;
  cursor:pointer;
  transition:.2s;
}

.main-button:hover{
  background:#c2185b;
  transform:scale(1.05);
}

.main-button:active{
  transform:scale(.95);
}

#omikuji-result{
  margin-top:10px;
  font-weight:bold;
  font-size:16px;
}

details{
  border-radius:18px;
  margin-top:10px;
  overflow:hidden;
  transition: all 0.3s ease;
}

summary{
  list-style:none;
  cursor:pointer;
  padding:14px 16px;
  font-weight:700;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:rgba(255,255,255,0.2);
  border-radius:16px;
  transition:.2s;
}

summary::after{
  content:"ï¼‹";
  font-size:20px;
  transition:.2s;
}

details[open] summary::after{
  content:"ï¼";
}

.invite-list, #comment-list{
  padding:10px 0 0 0;
}

/* å€‹åˆ¥ãƒœãƒƒã‚¯ã‚¹ã‚’ç™½å¯„ã‚Šæ°´è‰²ã« */
.invite-box, .comment-item{
  background: rgba(220, 240, 255, 0.8); /* ç™½ã‚ˆã‚Šæ°´è‰² */
  border-radius:12px;
  padding:10px 12px;
  margin:6px 0;
  box-shadow:0 3px 6px rgba(0,0,0,0.1);
  text-align:left;
}

.invite-info{
  text-align:left;
}

.service-name{
  font-size:14px;
  color:#666;
}

.invite-code{
  font-size:15px;
  color:#9c27b0;
  word-break:break-all;
}

.copy-message{
  font-size:12px;
  color:#4caf50;
  height:1em;
}

.comment-form{
  display:flex;
  flex-direction:column;
  gap:12px;
}

.comment-input,
.comment-textarea{
  font-family:'Hachi Maru Pop',sans-serif;
  padding:10px;
  border-radius:15px;
  border:2px solid #ce93d8;
  font-size:14px;
}

.comment-name{
  font-size:14px;
  color:#9c27b0;
  font-weight:600;
  margin-bottom:4px;
}

.comment-text{
  font-size:14px;
  color:#333;
}
</style>
</head>
<body>

<header>
  <h1 class="welcome">ã‚ˆã†ã“ãâ™ª</h1>
  <p class="subtitle">ğŸ”—ãƒªãƒ³ã‚¯é›†(â âœ¯â á´—â âœ¯â )</p>
</header>

<div class="sns-links">
  <a href="https://twitter.com/oo" target="_blank">Twitter</a>
  <a href="https://misskey.flowers/" target="_blank">Misskey</a>
</div>

<section class="card">
  <h2>ãŠã¿ãã˜</h2>
  <button class="main-button" id="omikuji-button">ãŠã¿ãã˜ã‚’å¼•ã</button>
  <p id="omikuji-result"></p>
</section>

<details class="card">
  <summary>ãƒã‚¤æ´» æ‹›å¾…ã‚³ãƒ¼ãƒ‰</summary>
  <div class="invite-list">
    <div class="invite-box">
      <div class="invite-info">
        <div class="service-name">ãƒˆãƒªãƒ</div>
        <div class="invite-code">TRIMA123</div>
        <div class="copy-message"></div>
      </div>
      <button class="main-button" onclick="copyText(this)">ã‚³ãƒ”ãƒ¼</button>
    </div>
    <div class="invite-box">
      <div class="invite-info">
        <div class="service-name">ãƒ¬ã‚·ãƒãƒ£ãƒ¬</div>
        <div class="invite-code">RESI456</div>
        <div class="copy-message"></div>
      </div>
      <button class="main-button" onclick="copyText(this)">ã‚³ãƒ”ãƒ¼</button>
    </div>
    <div class="invite-box">
      <div class="invite-info">
        <div class="service-name">ãƒã‚¯ãƒ­ãƒŸãƒ«</div>
        <div class="invite-code">MACRO789</div>
        <div class="copy-message"></div>
      </div>
      <button class="main-button" onclick="copyText(this)">ã‚³ãƒ”ãƒ¼</button>
    </div>
    <div class="invite-box">
      <div class="invite-info">
        <div class="service-name">dã‚¸ãƒ§ãƒ–</div>
        <div class="invite-code">https://djob.docomo.ne.jp/invite/XXXXXX</div>
      </div>
      <a href="https://djob.docomo.ne.jp/invite/XXXXXX" target="_blank" class="main-button" style="text-decoration:none;">é–‹ã</a>
    </div>
  </div>
</details>

<details class="card">
  <summary>ã¿ã‚“ãªã®ã‚³ãƒ¡ãƒ³ãƒˆ</summary>
  <form class="comment-form"
    action="https://docs.google.com/forms/d/e/1FAIpQLSeqN2Bcu62Iec3QcdqpV9ooE0TOhKHcXrsB_H4UoyUtQvDcsQ/formResponse"
    method="POST"
    target="hidden_iframe"
    onsubmit="submitted=true;"
  >
    <input type="text" name="entry.243187617" placeholder="åå‰ï¼ˆä»»æ„ï¼‰" class="comment-input">
    <textarea name="entry.4743221" placeholder="ã‚³ãƒ¡ãƒ³ãƒˆ" required class="comment-textarea"></textarea>
    <button type="submit" class="main-button">é€ä¿¡</button>
  </form>

  <iframe name="hidden_iframe" style="display:none;" onload="if(submitted){alert('é€ä¿¡ã—ã¾ã—ãŸï¼')}"></iframe>

  <div id="comment-list"></div>
</details>

<footer>
  <p>Â© 2024 SNSã¾ã¨ã‚ï¼†ãŠã¿ãã˜ã‚µã‚¤ãƒˆ</p>
</footer>

<script>
let submitted = false;

const results = [
  { t:"å¤§å¤§å‰", m:"ã‚ãªãŸã¯ç¥ã§ã™ï¼", c:"#ffd700", w:0.001 },
  { t:"å¤§å‰", m:"æœ€é«˜ã®é‹å‹¢ï¼", c:"#4caf50", w:0.15 },
  { t:"ä¸­å‰", m:"ã„ã„ä¸€æ—¥ã«ãªã‚Šãã†", c:"#2196f3", w:0.3 },
  { t:"å‰", m:"ãŒã‚“ã°ã‚Œã°å®Ÿã‚‹", c:"#ffeb3b", w:0.4 },
  { t:"å‡¶", m:"æ…é‡ã«è¡Œã“ã†", c:"#f44336", w:0.1 }
];

document.getElementById("omikuji-button").onclick = () => {
  let r = Math.random(), s = 0;
  for (let o of results) {
    s += o.w;
    if (r <= s) {
      const el = document.getElementById("omikuji-result");
      el.textContent = o.t + " - " + o.m;
      el.style.color = o.c;
      break;
    }
  }
};

function copyText(btn) {
  const box = btn.parentElement;
  const text = box.querySelector(".invite-code").textContent;
  const msg = box.querySelector(".copy-message");
  navigator.clipboard.writeText(text).then(() => {
    msg.textContent = "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼";
    setTimeout(()=>msg.textContent="",2000);
  });
}

fetch("https://docs.google.com/spreadsheets/d/10ZAAj6s5S3XXE4oGGnhRnWG_LT5rzgRrhwGdD7iEQv4/gviz/tq?tqx=out:csv")
.then(r=>r.text())
.then(t=>{
  t.trim().split("\n").slice(1).reverse().forEach(row=>{
    const c=row.split(",");
    let name=(c[1]||"").replace(/"/g,"").trim()||"åŒ¿å";
    let text=(c[2]||"").replace(/"/g,"").trim();
    if(!text) return;
    document.getElementById("comment-list").innerHTML +=
      `<div class="comment-item">
        <div class="comment-name">${name}</div>
        <div class="comment-text">${text}</div>
      </div>`;
  });
});
</script>

</body>
</html>